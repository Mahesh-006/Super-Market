<!-- admin/login.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Admin Login - SuperMart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md">
        <!-- Back to Site Link -->
        <div class="text-center mb-8">
            <a href="../index.html" class="inline-flex items-center gap-2 text-gray-400 hover:text-blue-400 transition-colors">
                <span class="material-icons">arrow_back</span>
                Back to SuperMart
            </a>
        </div>

        <!-- Admin Login Card -->
        <div class="bg-gray-800 rounded-2xl shadow-2xl p-8 border border-gray-700">
            <!-- Header -->
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl mb-4">
                    <span class="material-icons text-3xl text-white">admin_panel_settings</span>
                </div>
                <h1 class="text-3xl font-bold text-white mb-2">Admin Portal</h1>
                <p class="text-gray-400">SuperMart Administration</p>
            </div>

            <!-- Login Form -->
            <form id="adminLoginForm" class="space-y-6">
                <div class="form-group">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Admin Email</label>
                    <div class="relative">
                        <input type="email" id="adminEmail" placeholder="admin@supermart.com" 
                               class="w-full pl-12 pr-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all" required>
                        <span class="material-icons absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400">email</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="block text-sm font-medium text-gray-300 mb-2">Password</label>
                    <div class="relative">
                        <input type="password" id="adminPassword" placeholder="Enter your password" 
                               class="w-full pl-12 pr-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all" required>
                        <span class="material-icons absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400">lock</span>
                    </div>
                </div>

                <button type="submit" class="w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold py-3 px-4 rounded-xl transition-all transform hover:scale-105 flex items-center justify-center gap-2">
                    <span class="material-icons">login</span>
                    Login to Dashboard
                </button>
            </form>

            <!-- Demo Credentials -->
            <div class="mt-8 p-4 bg-gray-700 rounded-xl border border-gray-600">
                <h4 class="text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2">
                    <span class="material-icons text-sm">info</span>
                    Demo Credentials
                </h4>
                <div class="space-y-2 text-sm">
                    <div class="flex justify-between">
                        <span class="text-gray-400">Email:</span>
                        <span class="text-white font-mono">admin@supermart.com</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-400">Password:</span>
                        <span class="text-white font-mono">admin123</span>
                    </div>
                </div>
            </div>

            <!-- Security Notice -->
            <div class="mt-6 p-4 bg-red-900/20 border border-red-800 rounded-xl">
                <div class="flex items-start gap-3">
                    <span class="material-icons text-red-400 text-sm mt-0.5">security</span>
                    <div>
                        <h5 class="text-red-400 font-medium text-sm mb-1">Security Notice</h5>
                        <p class="text-red-300 text-xs leading-relaxed">This is a demo admin portal. In production, use strong passwords and enable two-factor authentication.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features -->
        <div class="mt-8 grid grid-cols-2 gap-4 text-center">
            <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
                <span class="material-icons text-blue-400 text-2xl mb-2 block">dashboard</span>
                <h4 class="text-white font-medium text-sm mb-1">Dashboard</h4>
                <p class="text-gray-400 text-xs">Analytics & Overview</p>
            </div>
            <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
                <span class="material-icons text-green-400 text-2xl mb-2 block">inventory_2</span>
                <h4 class="text-white font-medium text-sm mb-1">Products</h4>
                <p class="text-gray-400 text-xs">Manage Inventory</p>
            </div>
            <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
                <span class="material-icons text-purple-400 text-2xl mb-2 block">receipt_long</span>
                <h4 class="text-white font-medium text-sm mb-1">Orders</h4>
                <p class="text-gray-400 text-xs">Track & Fulfill</p>
            </div>
            <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
                <span class="material-icons text-orange-400 text-2xl mb-2 block">settings</span>
                <h4 class="text-white font-medium text-sm mb-1">Settings</h4>
                <p class="text-gray-400 text-xs">Store Configuration</p>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-6 right-6 bg-gray-800 border border-gray-700 rounded-xl shadow-2xl transform translate-x-full transition-transform duration-300 z-50 max-w-sm">
        <div class="flex items-start gap-4 p-4">
            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
                <span class="material-icons text-green-600">check_circle</span>
            </div>
            <div class="flex-1">
                <div class="font-semibold text-white mb-1">Success!</div>
                <div class="text-gray-300 text-sm" id="toastMessage">Operation completed successfully</div>
            </div>
            <button class="p-1 text-gray-400 hover:text-white transition-colors" onclick="hideToast()">
                <span class="material-icons text-sm">close</span>
            </button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBfMNyQwkSWeGw28ojygiVQwwfXnwXoOYk",
            authDomain: "supermarket-b930f.firebaseapp.com",
            projectId: "supermarket-b930f",
            storageBucket: "supermarket-b930f.firebasestorage.app",
            messagingSenderId: "916317111235",
            appId: "1:916317111235:web:e82d5c11f39eadb3947376",
            measurementId: "G-2H6SZ8MB3Y"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const analytics = getAnalytics(app);

        // Admin login functionality
        document.getElementById('adminLoginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<span class="material-icons animate-spin">refresh</span> Logging in...';
            submitBtn.disabled = true;
            
            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Check admin credentials
                if (email === 'admin@supermart.com' && password === 'admin123') {
                    // Store admin session
                    const adminData = {
                        id: 'admin-1',
                        name: 'Admin',
                        email: email,
                        role: 'admin',
                        loginAt: new Date().toISOString()
                    };
                    
                    localStorage.setItem('currentAdmin', JSON.stringify(adminData));
                    
                    showToast('Login successful! Redirecting...');
                    
                    setTimeout(() => {
                        window.location.href = 'dashboard.html';
                    }, 1000);
                } else {
                    throw new Error('Invalid admin credentials');
                }
            } catch (error) {
                showToast(error.message || 'Login failed', 'error');
            } finally {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }
        });

        // Auto-fill demo credentials on click
        document.querySelector('.bg-gray-700').addEventListener('click', function() {
            document.getElementById('adminEmail').value = 'admin@supermart.com';
            document.getElementById('adminPassword').value = 'admin123';
        });

        // Toast functions
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            const icon = toast.querySelector('.material-icons');
            const iconContainer = toast.querySelector('.w-10');
            
            toastMessage.textContent = message;
            
            if (type === 'success') {
                iconContainer.className = 'w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0';
                icon.textContent = 'check_circle';
                icon.className = 'material-icons text-green-600';
            } else {
                iconContainer.className = 'w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0';
                icon.textContent = 'error';
                icon.className = 'material-icons text-red-600';
            }
            
            toast.classList.remove('translate-x-full');
            setTimeout(() => toast.classList.add('translate-x-full'), 3000);
        }

        function hideToast() {
            document.getElementById('toast').classList.add('translate-x-full');
        }

        // Check if already logged in
        document.addEventListener('DOMContentLoaded', function() {
            const adminData = localStorage.getItem('currentAdmin');
            if (adminData) {
                window.location.href = 'dashboard.html';
            }
        });
    </script>
</body>
</html>
